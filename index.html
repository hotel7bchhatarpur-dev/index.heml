<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Seven-B - Guest Portal</title>
    <style>
        :root { --gold: #d4af37; --dark: #121212; --card: #1e1e1e; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--dark); color: white; margin: 0; padding: 15px; }
        .logo-header { text-align: center; margin-bottom: 20px; }
        .logo { width: 100px; border-radius: 50%; border: 2px solid var(--gold); }
        h1 { color: var(--gold); margin: 5px 0; font-size: 20px; text-transform: uppercase; }
        
        .page { display: none; animation: fadeIn 0.3s; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .main-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .service-btn { background: var(--card); border: 1px solid var(--gold); color: white; padding: 25px 10px; border-radius: 12px; font-size: 16px; cursor: pointer; }
        
        .room-selector { background: var(--card); padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 5px solid var(--gold); }
        select, textarea, #menuSearch { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #444; background: #222; color: white; box-sizing: border-box; margin-top: 10px; }
        #menuSearch { border: 2px solid var(--gold); margin-bottom: 15px; position: sticky; top: 10px; z-index: 10; }

        .menu-cat { color: var(--gold); background: #333; padding: 8px; margin: 20px 0 10px; font-weight: bold; border-radius: 4px; border-left: 3px solid var(--gold); }
        .menu-item { display: flex; justify-content: space-between; align-items: center; background: #1a1a1a; padding: 12px; margin-bottom: 5px; border-radius: 8px; border-bottom: 1px solid #333; }
        .controls { display: flex; align-items: center; gap: 8px; }
        .qty-btn { background: var(--gold); border: none; width: 30px; height: 30px; border-radius: 5px; font-weight: bold; cursor: pointer; color: black; }
        
        .submit-btn { background: #27ae60; color: white; width: 100%; padding: 15px; font-size: 18px; border: none; border-radius: 10px; margin-top: 20px; font-weight: bold; cursor: pointer; }
        .back-btn { background: none; color: var(--gold); border: 1px solid var(--gold); padding: 5px 15px; border-radius: 5px; margin-bottom: 15px; cursor: pointer; }
    </style>
</head>
<body>

    <div class="logo-header">
        <img src="https://i.ibb.co/VmqS0R7/logo.jpg" alt="Logo" class="logo">
        <h1>Hotel Seven-B</h1>
        <p style="font-size: 12px; color: #888;">Rooms ‚Ä¢ Banquet ‚Ä¢ Restaurant</p>
    </div>

    <div id="home" class="page active">
        <div class="room-selector">
            <label>‡§Ö‡§™‡§®‡§æ ‡§ï‡§Æ‡§∞‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç (Select Room):</label>
            <select id="roomNum">
                <option value="">-- Choose Room --</option>
                <option>STD 201</option><option>SDLX 202</option><option>SDLX 203</option><option>DLX 204</option>
                <option>STD 205</option><option>DLX 206</option><option>DLX 207</option><option>DLX 208</option>
                <option>DLX 209</option><option>DLX 210</option><option>DLX 211</option><option>DLX 212</option>
                <option>SDLX 213</option><option>SDLX 214</option><option>SDLX 215</option><option>SDLX 216</option>
                <option>STD 301</option><option>STD 305</option><option>DLX 306</option><option>DLX 307</option>
                <option>DLX 308</option><option>DLX 309</option><option>DLX 310</option><option>QUAD 311</option>
                <option>SDLX 312</option><option>SDLX 313</option><option>SDLX 314</option>
            </select>
        </div>

        <div class="main-grid">
            <button class="service-btn" onclick="showPage('reception')">Reception üõéÔ∏è</button>
            <button class="service-btn" onclick="showPage('resto')">Resto (Menu) üçî</button>
            <button class="service-btn" onclick="showPage('housekeeping')">Housekeeping üßπ</button>
            <button class="service-btn" onclick="showPage('help')">Help üÜò</button>
            <button class="service-btn" onclick="showPage('feedback')" style="grid-column: span 2;">Feedback ‚≠ê</button>
        </div>
    </div>

    <div id="resto" class="page">
        <button class="back-btn" onclick="showPage('home')">‚Üê Back</button>
        <input type="text" id="menuSearch" placeholder="‡§∏‡§∞‡•ç‡§ö ‡§ï‡§∞‡•á‡§Ç (‡§ú‡•à‡§∏‡•á: Paneer, Tea, Dal)..." onkeyup="filterMenu()">
        <div id="menuItems">
            <div class="menu-cat">TEA & COFFEE</div>
            <div class="menu-item"><span>TEA - ‚Çπ29</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>
            <div class="menu-item"><span>MASALA TEA - ‚Çπ39</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>
            <div class="menu-item"><span>HOT COFFEE - ‚Çπ59</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>
            <div class="menu-item"><span>CAPPUCCINO - ‚Çπ99</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>

            <div class="menu-cat">SNACKS & STARTERS</div>
            <div class="menu-item"><span>VEG BURGER - ‚Çπ89</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>
            <div class="menu-item"><span>VEG GRILL SANDWICH - ‚Çπ89</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>
            <div class="menu-item"><span>VEG PAKODA - ‚Çπ129</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>
            <div class="menu-item"><span>PANEER PAKODA - ‚Çπ149</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>
            <div class="menu-item"><span>FRENCH FRIES - ‚Çπ159</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>

            <div class="menu-cat">MAIN COURSE (PANNER)</div>
            <div class="menu-item"><span>KADHAI PANEER - ‚Çπ239</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>
            <div class="menu-item"><span>PANEER BUTTER MASALA - ‚Çπ249</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>
            <div class="menu-item"><span>PANEER TIKKA MASALA - ‚Çπ299</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>

            <div class="menu-cat">DAL & RICE</div>
            <div class="menu-item"><span>DAL TADKA - ‚Çπ149</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>
            <div class="menu-item"><span>DAL MAKHNI - ‚Çπ219</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>
            <div class="menu-item"><span>VEG BIRYANI - ‚Çπ229</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>
            <div class="menu-item"><span>JEERA RICE - ‚Çπ149</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>

            <div class="menu-cat">ROTI & BREADS</div>
            <div class="menu-item"><span>TANDOORI ROTI PLAIN - ‚Çπ18</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>
            <div class="menu-item"><span>BUTTER NAAN - ‚Çπ49</span><div class="controls"><button class="qty-btn" onclick="ch(this,-1)">-</button><span class="q">0</span><button class="qty-btn" onclick="ch(this,1)">+</button></div></div>
        </div>
        <button class="submit-btn" onclick="send('Resto Order')">Place Order üõí</button>
    </div>

    <div id="reception" class="page">
        <button class="back-btn" onclick="showPage('home')">‚Üê Back</button>
        <h2>Reception Request</h2>
        <textarea id="receptionMsg" placeholder="‡§Ö‡§™‡§®‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§Ø‡§æ ‡§ú‡§∞‡•Ç‡§∞‡§§ ‡§≤‡§ø‡§ñ‡•á‡§Ç..."></textarea>
        <button class="submit-btn" onclick="send('Reception')">Send Request</button>
    </div>

    <div id="housekeeping" class="page">
        <button class="back-btn" onclick="showPage('home')">‚Üê Back</button>
        <h2>Housekeeping</h2>
        <textarea id="hkMsg" placeholder="‡§∏‡§´‡§æ‡§à ‡§Ø‡§æ ‡§™‡§æ‡§®‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡§π‡§æ‡§Å ‡§≤‡§ø‡§ñ‡•á‡§Ç..."></textarea>
        <button class="submit-btn" onclick="send('Housekeeping')">Send Request</button>
    </div>

    <div id="help" class="page">
        <button class="back-btn" onclick="showPage('home')">‚Üê Back</button>
        <h2 style="color:#e74c3c">Help / Emergency</h2>
        <textarea id="helpMsg" placeholder="‡§Ö‡§™‡§®‡•Ä ‡§™‡§∞‡•á‡§∂‡§æ‡§®‡•Ä ‡§µ‡§ø‡§∏‡•ç‡§§‡§æ‡§∞ ‡§∏‡•á ‡§≤‡§ø‡§ñ‡•á‡§Ç..."></textarea>
        <button class="submit-btn" style="background:#e74c3c" onclick="send('Help Alert')">Send Alert</button>
    </div>

    <div id="feedback" class="page">
        <button class="back-btn" onclick="showPage('home')">‚Üê Back</button>
        <h2>Feedback</h2>
        <textarea id="feedbackMsg" placeholder="‡§Ö‡§™‡§®‡§æ ‡§Ö‡§®‡•Å‡§≠‡§µ ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡•á‡§Ç..."></textarea>
        <button class="submit-btn" onclick="send('Feedback')">Submit Feedback</button>
    </div>

    <script>
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbx-Nrm9y04Wqm-rdCgyifCtCGrxYB3osi1247BDfPcTPlq2v-jtBc7QCdpMBTZHV58s/exec";

        function showPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            window.scrollTo(0,0);
        }

        function ch(btn, n) {
            let s = btn.parentElement.querySelector('.q');
            let v = parseInt(s.innerText) + n;
            if (v >= 0) s.innerText = v;
        }

        function filterMenu() {
            let t = document.getElementById('menuSearch').value.toLowerCase();
            document.querySelectorAll('.menu-item').forEach(i => {
                i.style.display = i.innerText.toLowerCase().includes(t) ? "flex" : "none";
            });
            document.querySelectorAll('.menu-cat').forEach(cat => {
                let next = cat.nextElementSibling;
                let hasVisible = false;
                while(next && next.classList.contains('menu-item')) {
                    if(next.style.display !== 'none') hasVisible = true;
                    next = next.nextElementSibling;
                }
                cat.style.display = hasVisible ? "block" : "none";
            });
        }

        async function send(type) {
            const room = document.getElementById('roomNum').value;
            if(!room) return alert("Please select your Room Number!");

            let msg = "";
            if(type === 'Resto Order') {
                document.querySelectorAll('.menu-item').forEach(i => {
                    let q = i.querySelector('.q').innerText;
                    if(q > 0) msg += i.querySelector('span').innerText + " (x" + q + "), ";
                });
                if(!msg) return alert("Please select at least one item!");
            } else {
                let ids = { 'Reception':'receptionMsg', 'Housekeeping':'hkMsg', 'Help Alert':'helpMsg', 'Feedback':'feedbackMsg' };
                msg = document.getElementById(ids[type]).value;
                if(!msg) return alert("Please enter your message!");
            }

            try {
                await fetch(SCRIPT_URL, {
                    method: 'POST', mode: 'no-cors',
                    body: JSON.stringify({ room: room, type: type, detail: msg, time: new Date().toLocaleString() })
                });
                alert("‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§≠‡•á‡§ú ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ! ‡§π‡•ã‡§ü‡§≤ ‡§∏‡•ç‡§ü‡§æ‡§´ ‡§ú‡§≤‡•ç‡§¶ ‡§π‡•Ä ‡§Ü‡§™‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§ó‡§æ‡•§");
                location.reload();
            } catch(e) { alert("Error sending request."); }
        }
    </script>
</body>

</html>
